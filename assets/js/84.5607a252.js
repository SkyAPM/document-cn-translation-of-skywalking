(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{326:function(t,s,a){"use strict";a.r(s);var e=a(0),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("p",[t._v("Skywalking存储可插拔，我们提供了以下存储解决方案，你可以通过更改'application.yml`轻松使用。")]),t._v(" "),a("p",[t._v("原生支持的存储e")]),t._v(" "),t._m(1),t._v(" "),a("p",[t._v("支持存储的重分发版本。")]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),a("p",[t._v("设置片段示例")]),t._v(" "),t._m(5),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),a("p",[t._v("设置片段示例")]),t._v(" "),t._m(9),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._m(16),t._v(" "),a("p",[t._v("设置名称空间后，ElasticSearch中所有索引的名称都将使用它作为前缀。")]),t._v(" "),t._m(17),t._v(" "),a("p",[t._v("我们只支持"),a("a",{attrs:{href:"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.6/_basic_authentication.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("basic authentication"),a("OutboundLink")],1),t._v("。如果需要，可以设置"),a("code",[t._v("user")]),t._v(" and "),a("code",[t._v("password")]),t._v(".。\n有关如何启用HTTP基本身份验证，请阅读这个https://brudtkuhl.com/blog/securing-elasticsearch/。")]),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),a("p",[t._v("所有与连接相关的设置，包括链接URL、用户名和密码都在"),a("code",[t._v("datasource-settings.properties")]),t._v("。\n设置文件参考"),a("a",{attrs:{href:"https://github.com/brettwooldridge/HikariCP",target:"_blank",rel:"noopener noreferrer"}},[t._v("HikariCP"),a("OutboundLink")],1),t._v(" 连接池文档。.")]),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._m(25),t._v(" "),t._m(26),t._v(" "),a("p",[t._v("ElasticSearch 5 和ElasticSearch 6的java客户端版本不兼容, 所有它不在原生发布中。.\n"),a("a",{attrs:{href:"https://github.com/OpenSkywalking/SkyWalking-With-Es5x-Storage",target:"_blank",rel:"noopener noreferrer"}},[t._v("OpenSkywalking/SkyWalking-With-Es5x-Storage"),a("OutboundLink")],1),t._v(" 包括这个发布版本。")]),t._v(" "),t._m(27),t._v(" "),a("p",[t._v("参考开发者指南"),a("router-link",{attrs:{to:"./../../guides/#project-extensions"}},[t._v("Project Extensions document")]),t._v("中的"),a("router-link",{attrs:{to:"./../../guides/storage-extention.html"}},[t._v("Storage extension development guide")])],1)])}),[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"backend存储"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#backend存储"}},[this._v("#")]),this._v(" Backend存储")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("H2")]),this._v(" "),s("li",[this._v("ElasticSearch 6")]),this._v(" "),s("li",[this._v("MySQL")]),this._v(" "),s("li",[this._v("TiDB")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("ElasticSearch 5")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"h2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#h2"}},[this._v("#")]),this._v(" H2")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("要激活h2作为存储，设置存储提供者为内存中的 "),a("strong",[t._v("H2")]),t._v("。默认的在发布的包中。\n请阅读[h2官方文件]（http://www.h2 database.com/html/features.html）中的"),a("code",[t._v("Database URL Overview")]),t._v("，您可以在"),a("strong",[t._v("Embedded")]),t._v(", "),a("strong",[t._v("Server")]),t._v(" and "),a("strong",[t._v("Mixed")]),t._v(" 模式下将目标设置为H2。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("storage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("h2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("driver")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" org.h2.jdbcx.JdbcDataSource\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" jdbc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("h2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("mem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("skywalking"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("oap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("db\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" sa\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"elasticsearch-6"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch-6"}},[this._v("#")]),this._v(" ElasticSearch 6")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("要激活ElasticSearch 6作为存储, 设置存储提供者为"),s("strong",[this._v("elasticsearch")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("需要ElasticSearch 6.3.0或更高版本。HTTP RestHighLevelClient被用来连接服务器")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("storage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("elasticsearch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# nameSpace: ${SW_NAMESPACE:""}')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# user: ${SW_ES_USER:""} # User needs to be set when Http Basic authentication is enabled')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# password: ${SW_ES_PASSWORD:""} # Password to be set when Http Basic authentication is enabled')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("clusterNodes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_STORAGE_ES_CLUSTER_NODES"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("localhost"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("indexShardsNumber")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_STORAGE_ES_INDEX_SHARDS_NUMBER"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("indexReplicasNumber")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_STORAGE_ES_INDEX_REPLICAS_NUMBER"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Batch process setting, refer to https://www.elastic.co/guide/en/elasticsearch/client/java-api/5.5/java-docs-bulk-processor.html")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("bulkActions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_STORAGE_ES_BULK_ACTIONS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Execute the bulk every 2000 requests")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("bulkSize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_STORAGE_ES_BULK_SIZE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# flush the bulk every 20mb")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("flushInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_STORAGE_ES_FLUSH_INTERVAL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# flush the bulk every 10 seconds whatever the number of requests")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("concurrentRequests")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_STORAGE_ES_CONCURRENT_REQUESTS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# the number of concurrent requests")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"elasticsearch-6-与-zipkin-的追踪扩展"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch-6-与-zipkin-的追踪扩展"}},[this._v("#")]),this._v(" ElasticSearch 6 与 Zipkin 的追踪扩展")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("这个实现共享了大部分的 "),s("code",[this._v("elasticsearch")]),this._v("，只是扩展到支持Zipkin-Span存储。它有所以相同的配置。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("storage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("zipkin-elasticsearch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("nameSpace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_NAMESPACE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("clusterNodes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_STORAGE_ES_CLUSTER_NODES"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("localhost"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_ES_USER"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_ES_PASSWORD"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("indexShardsNumber")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_STORAGE_ES_INDEX_SHARDS_NUMBER"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("indexReplicasNumber")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_STORAGE_ES_INDEX_REPLICAS_NUMBER"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Batch process setting, refer to https://www.elastic.co/guide/en/elasticsearch/client/java-api/5.5/java-docs-bulk-processor.html")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("bulkActions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_STORAGE_ES_BULK_ACTIONS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Execute the bulk every 2000 requests")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("bulkSize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_STORAGE_ES_BULK_SIZE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# flush the bulk every 20mb")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("flushInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_STORAGE_ES_FLUSH_INTERVAL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# flush the bulk every 10 seconds whatever the number of requests")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("concurrentRequests")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_STORAGE_ES_CONCURRENT_REQUESTS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# the number of concurrent requests")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"elasticsearch-6-with-jaeger-trace-extension"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch-6-with-jaeger-trace-extension"}},[this._v("#")]),this._v(" ElasticSearch 6 with Jaeger trace extension")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("这个实现共享了大部分的 "),s("code",[this._v("elasticsearch")]),this._v("，只是扩展到支持Jaeger -Span存储。它有所以相同的配置。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("storage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("jaeger-elasticsearch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("nameSpace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_NAMESPACE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("clusterNodes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_STORAGE_ES_CLUSTER_NODES"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("localhost"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_ES_USER"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_ES_PASSWORD"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("indexShardsNumber")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_STORAGE_ES_INDEX_SHARDS_NUMBER"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("indexReplicasNumber")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_STORAGE_ES_INDEX_REPLICAS_NUMBER"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Batch process setting, refer to https://www.elastic.co/guide/en/elasticsearch/client/java-api/5.5/java-docs-bulk-processor.html")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("bulkActions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_STORAGE_ES_BULK_ACTIONS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Execute the bulk every 2000 requests")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("bulkSize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_STORAGE_ES_BULK_SIZE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# flush the bulk every 20mb")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("flushInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_STORAGE_ES_FLUSH_INTERVAL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# flush the bulk every 10 seconds whatever the number of requests")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("concurrentRequests")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_STORAGE_ES_CONCURRENT_REQUESTS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# the number of concurrent requests")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"about-namespace"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#about-namespace"}},[this._v("#")]),this._v(" About Namespace")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"about-authentication"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#about-authentication"}},[this._v("#")]),this._v(" About Authentication")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"mysql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysql"}},[this._v("#")]),this._v(" MySQL")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("要激活MySQL作为存储, 设置存储提供者为"),s("strong",[this._v("mysql")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("注意:")]),this._v(" Apache官方发行版和源代码中不允许使用MySQL驱动程序。请自己下载MySQL驱动程序。将连接驱动程序jar复制到"),s("code",[this._v("oap-libs")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[this._v("storage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(":")]),this._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[this._v("mysql")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(":")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"tidb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tidb"}},[this._v("#")]),this._v(" TiDB")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("目前的测试版tidb版本为2.0.9和MySQL客户端驱动版本为8.0.13。\n要激活TiDB作为存储,设置存储提供者为"),s("strong",[this._v("mysql")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[this._v("storage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(":")]),this._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[this._v("mysql")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(":")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("所有与连接相关的设置，包括链接URL、用户名和密码都在"),s("code",[this._v("datasource-settings.properties")]),this._v("。所有配置都可参考上面的"),s("em",[this._v("MySQL")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"elasticsearch-5"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch-5"}},[this._v("#")]),this._v(" ElasticSearch 5")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"more-storage-solution-extension"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#more-storage-solution-extension"}},[this._v("#")]),this._v(" More storage solution extension")])}],!1,null,null,null);s.default=n.exports}}]);