(window.webpackJsonp=window.webpackJsonp||[]).push([[160],{439:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"设置的覆盖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置的覆盖"}},[t._v("#")]),t._v(" 设置的覆盖")]),t._v(" "),a("p",[t._v("SkyWalking backend支持通过系统属性和环境变量来覆盖的设置。\n你可以覆盖"),a("code",[t._v("application.yml")]),t._v("文件中设置。")]),t._v(" "),a("h2",{attrs:{id:"系统属性key规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统属性key规则"}},[t._v("#")]),t._v(" 系统属性key规则")]),t._v(" "),a("p",[a("strong",[t._v("ModuleName")]),t._v("."),a("strong",[t._v("ProviderName")]),t._v("."),a("strong",[t._v("SettingKey")]),t._v(".")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("事例")]),t._v(" "),a("p",[t._v("覆盖设置分区的"),a("code",[t._v("restHost")])])])]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("core")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("default")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restHost")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_CORE_REST_HOST"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("0.0.0.0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restPort")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_CORE_REST_PORT"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("12800")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restContextPath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_CORE_REST_CONTEXT_PATH"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gRPCHost")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_CORE_GRPC_HOST"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("0.0.0.0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gRPCPort")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_CORE_GRPC_PORT"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11800")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("使用命令行")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("-Dcore.default.restHost=172.0.4.12\n")])])]),a("h2",{attrs:{id:"系统环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统环境变量"}},[t._v("#")]),t._v(" 系统环境变量")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("事例")]),t._v(" "),a("p",[t._v("通过环境变量覆盖设置分区的"),a("code",[t._v("restHost")])])])]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("core")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("default")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restHost")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("REST_HOST"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("0.0.0.0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restPort")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_CORE_REST_PORT"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("12800")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restContextPath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_CORE_REST_CONTEXT_PATH"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gRPCHost")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_CORE_GRPC_HOST"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("0.0.0.0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gRPCPort")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SW_CORE_GRPC_PORT"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11800")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("如果"),a("code",[t._v("REST_HOST")]),t._v("存在于你操作系统的环境变量中，并且它的值为"),a("code",[t._v("172.0.4.12")]),t._v("，\n"),a("code",[t._v("restHost")]),t._v("的值就会被重写为"),a("code",[t._v("172.0.4.12")]),t._v(",否则就会被设为"),a("code",[t._v("0.0.0.0")]),t._v("。")]),t._v(" "),a("p",[t._v("顺便说一下，占位符嵌套也支持，比如"),a("code",[t._v("${REST_HOST:${ANOTHER_REST_HOST:127.0.0.1}}")]),t._v("。\n在这种情况下，如果"),a("code",[t._v("REST_HOST")]),t._v("环境变量不存在，但"),a("code",[t._v("REST_ANOTHER_REST_HOSTHOST")]),t._v("环境变量存在并且其值为"),a("code",[t._v("172.0.4.12")]),t._v("，此处的"),a("code",[t._v("restHost")]),t._v("也会被重写为"),a("code",[t._v("172.0.4.12")]),t._v("，否则就会被设为"),a("code",[t._v("127.0.0.1")]),t._v("。")])])}],!1,null,null,null);s.default=e.exports}}]);