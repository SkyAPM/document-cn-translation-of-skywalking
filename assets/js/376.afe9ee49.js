(window.webpackJsonp=window.webpackJsonp||[]).push([[376],{171:function(t,e,s){"use strict";s.r(e);var _=s(0),i=Object(_.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),s("p",[t._v("agent发行包包含在Apache"),s("a",{attrs:{href:"http://skywalking.apache.org/downloads/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方发行版"),s("OutboundLink")],1),t._v("中。最新的agent包结构如下。")]),t._v(" "),t._m(2),t._m(3),t._v(" "),t._m(4),t._v(" "),s("p",[t._v("SkyWalking agent已经对多种中间件、框架和库进行了支持。\n通过"),s("router-link",{attrs:{to:"./Supported-list.html"}},[t._v("支持列表")]),t._v("可以了解对哪些进行了支持以及支持了哪些版本。\n如果插件被标注为"),s("strong",[t._v("可选²")]),t._v("，请到"),s("a",{attrs:{href:"#%E5%8F%AF%E9%80%89%E7%9A%84%E6%8F%92%E4%BB%B6"}},[t._v("可选的插件")]),t._v(" 章节去学习如何激活插件。")],1),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._m(10),t._v(" "),t._m(11),t._m(12),t._v(" "),t._m(13),t._m(14),t._v(" "),t._m(15),t._m(16),t._v(" "),t._m(17),t._v(" "),s("table",[t._m(18),t._v(" "),s("tbody",[t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),t._m(34),t._v(" "),t._m(35),t._v(" "),t._m(36),t._v(" "),t._m(37),t._v(" "),t._m(38),t._v(" "),t._m(39),t._v(" "),t._m(40),t._v(" "),t._m(41),t._v(" "),t._m(42),t._v(" "),t._m(43),t._v(" "),t._m(44),t._v(" "),t._m(45),t._v(" "),t._m(46),t._v(" "),t._m(47),t._v(" "),t._m(48),t._v(" "),t._m(49),t._v(" "),t._m(50),t._v(" "),t._m(51),t._v(" "),t._m(52),t._v(" "),t._m(53),t._v(" "),t._m(54),t._v(" "),t._m(55),t._v(" "),t._m(56),t._v(" "),t._m(57),t._v(" "),t._m(58),t._v(" "),t._m(59),t._v(" "),t._m(60),t._v(" "),t._m(61),t._v(" "),t._m(62),t._v(" "),t._m(63),t._v(" "),t._m(64),t._v(" "),t._m(65),t._v(" "),s("tr",[t._m(66),t._v(" "),s("td",[t._v("支持在不同插件中自定义组规则的操作名. 请阅读 "),s("router-link",{attrs:{to:"./op_name_group_rule.html"}},[t._v("Group rule supported plugins")])],1),t._v(" "),s("td",[t._v("Not set")])]),t._v(" "),t._m(67),t._v(" "),t._m(68),t._v(" "),t._m(69),t._v(" "),t._m(70),t._v(" "),t._m(71),t._v(" "),t._m(72),t._v(" "),t._m(73)])]),t._v(" "),t._m(74),t._v(" "),t._m(75),t._v(" "),s("p",[t._v("目前，我们提供了如下的可选插件。")]),t._v(" "),s("ul",[s("li",[s("router-link",{attrs:{to:"./agent-optional-plugins/Spring-annotation-plugin.html"}},[t._v("追踪Spring注解的bean")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"./agent-optional-plugins/Oracle-Resin-plugins.html"}},[t._v("追踪Oracle和Resin")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"./agent-optional-plugins/trace-ignore-plugin.html"}},[t._v("通过指定endpoint模式来过滤trace")])],1),t._v(" "),s("li",[t._v("Gson序列化库")]),t._v(" "),s("li",[t._v("Lettuce 5.x(JRE1.8+)")]),t._v(" "),s("li",[t._v("Zookeeper 3.4.x。 将此插件定为可选插件的原因在于：会生成大量的业务不相关的trace，对agent和后端产生了额外的负载。并且，这些trace数据可能仅仅是心跳数据。")]),t._v(" "),s("li",[s("router-link",{attrs:{to:"./Customize-enhance-trace.html"}},[t._v("自定义增强")]),t._v(" 基于描述文件对方法进行追踪，而不是通过写插件或修改源代码。")],1),t._v(" "),s("li",[t._v("Spring Cloud Gateway 2.1.x 插件. 只有当你在 Spring Gateway 端安装了插件时才开启此插件.")])]),t._v(" "),t._m(76),t._v(" "),t._m(77),t._v(" "),s("p",[t._v("现在，我们有以下已知的 Bootstrap 插件.")]),t._v(" "),t._m(78),t._v(" "),t._m(79),t._v(" "),s("ul",[s("li",[t._v("可通过设置系统属性覆盖配置文件中的配置。请见"),s("router-link",{attrs:{to:"./Setting-override.html"}},[t._v("配置覆盖")]),t._v(".")],1),t._v(" "),s("li",[t._v("可使用gRPC TLS将后端连接起来。请见"),s("router-link",{attrs:{to:"./TLS.html"}},[t._v("open TLS")])],1),t._v(" "),s("li",[t._v("通过不同的SkyWalking服务实现对大集群的监控。使用"),s("router-link",{attrs:{to:"./Namespace.html"}},[t._v("命名空间")]),t._v("隔离上下文传播。")],1),t._v(" "),s("li",[t._v("如果后端开启了"),s("router-link",{attrs:{to:"./../../backend/backend-token-auth.html"}},[t._v("token鉴权")]),t._v("，客户端可设置"),s("router-link",{attrs:{to:"./Token-auth.html"}},[t._v("token")]),t._v("。")],1),t._v(" "),s("li",[t._v("应用工具包。应用工具包，是Skywalking提供的一些库的集合。通过这些库，可以将你的应用同Skywalking agent联系起来。\n"),s("ul",[s("li",[t._v("如果你想使用OpenTracing的Java API，可以试试"),s("router-link",{attrs:{to:"./Opentracing.html"}},[t._v("兼容OpenTracing的Skywalking tracer")]),t._v(". 更多细节可以查看http://opentracing.io")],1),t._v(" "),s("li",[t._v("如果你想在你的日志中打印trace上下文（比如traceId），选择你使用的日志框架"),s("router-link",{attrs:{to:"./Application-toolkit-log4j-1.x.html"}},[t._v("log4j")]),t._v(",\n"),s("router-link",{attrs:{to:"./Application-toolkit-log4j-2.x.html"}},[t._v("log4j2")]),t._v(", "),s("router-link",{attrs:{to:"./Application-toolkit-logback-1.x.html"}},[t._v("logback")])],1),t._v(" "),s("li",[t._v("如果你想使用注解或者SkyWalking本地API读取trace上下文，试一下"),s("router-link",{attrs:{to:"./Application-toolkit-trace.html"}},[t._v("SkyWalking manual APIs")]),t._v("吧。")],1),t._v(" "),s("li",[t._v("如果你想通过手动的方式实现trace跨线程传递，可以使用"),s("router-link",{attrs:{to:"./Application-toolkit-trace-cross-thread.html"}},[t._v("跨线程传递API")]),t._v("。")],1)])]),t._v(" "),s("li",[t._v("如果你想指定你的agent.config文件的路径，请见"),s("router-link",{attrs:{to:"./Specified-agent-config.html"}},[t._v("通过系统属性设置配置文件路径")])],1)]),t._v(" "),t._m(80),t._v(" "),s("p",[t._v("SkyWalking java agent支持插件的开发以扩展"),s("router-link",{attrs:{to:"./Supported-list.html"}},[t._v("支持列表")]),t._v("。如果你想开发java agent插件，请阅读"),s("router-link",{attrs:{to:"./../../../guides/Java-Plugin-Development-Guide.html"}},[t._v("插件开发指南")]),t._v("。")],1),t._v(" "),t._m(81),t._v(" "),s("p",[t._v("如果你对插件的兼容性测试或agent的性能感兴趣，可以阅读下面的测试报告。")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/SkyAPMTest/agent-integration-test-report",target:"_blank",rel:"noopener noreferrer"}},[t._v("Plugin Test"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://skyapmtest.github.io/Agent-Benchmarks/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Java Agent Performance Test"),s("OutboundLink")],1)])]),t._v(" "),t._m(82),t._v(" "),s("p",[t._v("¹ 由于自2018年以来gRPC不支持JDK 1.6, SkyWalking 在所有 7.x 版本都放弃支持 JDK 6/7.\n但是，gRPC向前向后兼容(至少目前如此), 所有 SkyWalking 6.x agents 均可以与 7.x(包括agent 和 后台)协作.")])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"安装java-agent"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装java-agent"}},[this._v("#")]),this._v(" 安装Java agent")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",[s("li",[t._v("7.x版本中代理支持 JDK 8 - 14， 6.x版本支持JDK 1.6 - JDK 12 "),s("a",{attrs:{href:"#notice"}},[t._v("NOTICE¹")])]),t._v(" "),s("li",[t._v("在SkyWalking发行包中找到"),s("code",[t._v("agent")]),t._v("文件夹")]),t._v(" "),s("li",[t._v("配置"),s("code",[t._v("config/agent.config")]),t._v("中的"),s("code",[t._v("agent.service_name")]),t._v("。可以是任意的英文字符串。")]),t._v(" "),s("li",[t._v("配置"),s("code",[t._v("config/agent.config")]),t._v("中的"),s("code",[t._v("collector.backend_service")]),t._v("。默认指向"),s("code",[t._v("127.0.0.1:11800")]),t._v("，表示仅作用于本地后端。")]),t._v(" "),s("li",[t._v("JVM参数中添加"),s("code",[t._v("-javaagent:/path/to/skywalking-package/agent/skywalking-agent.jar")]),t._v("，并且确保这个参数在"),s("code",[t._v("-jar")]),t._v("参数之前。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("+-- agent\n    +-- activations\n         apm-toolkit-log4j-1.x-activation.jar\n         apm-toolkit-log4j-2.x-activation.jar\n         apm-toolkit-logback-1.x-activation.jar\n         ...\n    +-- config\n         agent.config  \n    +-- plugins\n         apm-dubbo-plugin.jar\n         apm-feign-default-http-9.x.jar\n         apm-httpClient-4.x-plugin.jar\n         .....\n    +-- optional-plugins\n         apm-gson-2.x-plugin.jar\n         .....\n    +-- bootstrap-plugins\n         jdk-http-plugin.jar\n         .....\n    +-- logs\n    skywalking-agent.jar\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("启动你的应用。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"支持的中间件、框架和库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#支持的中间件、框架和库"}},[this._v("#")]),this._v(" 支持的中间件、框架和库")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"高级特性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#高级特性"}},[this._v("#")]),this._v(" 高级特性")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("所有的插件都在"),e("code",[this._v("/plugins")]),this._v("文件夹下。当某个插件的jar包在此文件夹下，表示此插件已被激活；从这个文件夹下移除后，表示插件不可用.")]),this._v(" "),e("li",[this._v("默认的日志输出文件夹为"),e("code",[this._v("/logs")]),this._v("。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"关于安装java-agent的faq"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#关于安装java-agent的faq"}},[this._v("#")]),this._v(" 关于安装java agent的FAQ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Linux Tomcat 7, Tomcat 8"),e("br"),this._v("\n修改"),e("code",[this._v("tomcat/bin/catalina.sh")]),this._v("的第一行。")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("CATALINA_OPTS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CATALINA_OPTS")]),t._v(' -javaagent:/path/to/skywalking-agent/skywalking-agent.jar"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" CATALINA_OPTS\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Windows Tomcat 7, Tomcat 8"),e("br"),this._v("\n修改"),e("code",[this._v("tomcat/bin/catalina.bat")]),this._v("的第一行。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[this._v("set")]),this._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[this._v('"CATALINA_OPTS=-javaagent:/path/to/skywalking-agent/skywalking-agent.jar"')]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("JAR包\n使用命令行启动应用时，添加"),e("code",[this._v("-javaagent")]),this._v("参数。比如：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[this._v("java -javaagent:/path/to/skywalking-agent/skywalking-agent.jar -jar yourApp.jar\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Jetty"),e("br"),this._v("\n修改 "),e("code",[this._v("jetty.sh")]),this._v(", 在启动应用程序的命令行中添加 "),e("code",[this._v("-javaagent")]),this._v(" 参数. 比如:")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("JAVA_OPTIONS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JAVA_OPTIONS}")]),t._v(' -javaagent:/path/to/skywalking-agent/skywalking-agent.jar"')]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"agent的可配置属性列表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#agent的可配置属性列表"}},[this._v("#")]),this._v(" Agent的可配置属性列表")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("这里是"),e("code",[this._v("agent/config/agent.config")]),this._v("中支持的属性列表。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("属性名")]),this._v(" "),e("th",[this._v("描述")]),this._v(" "),e("th",[this._v("默认值")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("agent.namespace")])]),this._v(" "),e("td",[this._v("命名空间，用于隔离跨进程传播的header。如果进行了配置，header将为"),e("code",[this._v("HeaderName:Namespace")]),this._v(".")]),this._v(" "),e("td",[this._v("未设置")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("agent.service_name")])]),this._v(" "),e("td",[this._v("在SkyWalking UI中展示的服务名。5.x版本对应Application，6.x版本对应Service。 建议：为每个服务设置个唯一的名字，服务的多个服务实例为同样的服务名")]),this._v(" "),e("td",[e("code",[this._v("Your_ApplicationName")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("agent.sample_n_per_3_secs")])]),this._v(" "),e("td",[this._v("负数或0表示不采样，默认不采样。SAMPLE_N_PER_3_SECS表示每3秒采样N条。")]),this._v(" "),e("td",[this._v("未设置")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("agent.authentication")])]),this._v(" "),e("td",[this._v("鉴权是否开启取决于后端的配置，可查看application.yml的详细描述。对于大多数的场景，需要后端对鉴权进行扩展。目前仅实现了基本的鉴权功能。")]),this._v(" "),e("td",[this._v("未设置")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("agent.span_limit_per_segment")])]),this._v(" "),e("td",[this._v("单个segment中的span的最大个数。通过这个配置项，Skywalking可评估应用程序内存使用量。")]),this._v(" "),e("td",[this._v("未设置")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("agent.ignore_suffix")])]),this._v(" "),e("td",[this._v("如果这个集合中包含了第一个span的操作名，这个segment将会被忽略掉。")]),this._v(" "),e("td",[this._v("未设置")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("agent.is_open_debugging_class")])]),this._v(" "),e("td",[this._v("如果为true，skywalking会将所有经Instrument转换过的类文件保存到"),e("code",[this._v("/debugging")]),this._v("文件夹下。Skywalking团队会要求你提供这些类文件以解决兼容性问题。")]),this._v(" "),e("td",[this._v("未设置")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("agent.cause_exception_depth")])]),this._v(" "),e("td",[this._v("在记录异常信息的时候, 探针需要记录的堆栈深度.")]),this._v(" "),e("td",[this._v("5")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("agent.force_reconnection_period")])]),this._v(" "),e("td",[this._v("grpc的强制重连周期，基于grpc_channel_check_interval.")]),this._v(" "),e("td",[e("code",[this._v("1")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("agent.operation_name_threshold")])]),this._v(" "),e("td",[this._v("设置操作名不建议超过最大长度(190).")]),this._v(" "),e("td",[e("code",[this._v("150")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("agent.keep_tracing")])]),this._v(" "),e("td",[this._v("如果该值为 "),e("code",[this._v("true")]),this._v("，即使后台不可用，也要保持跟踪.")]),this._v(" "),e("td",[e("code",[this._v("false")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("osinfo.ipv4_list_size")])]),this._v(" "),e("td",[this._v("限制ipv4列表的长度.")]),this._v(" "),e("td",[e("code",[this._v("10")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("collector.grpc_channel_check_interval| 检查grpc的channel状态的时间间隔。|")]),this._v("30`")]),this._v(" "),e("td"),this._v(" "),e("td")])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("collector.backend_service")])]),this._v(" "),e("td",[this._v("接收skywalking trace数据的后端地址")]),this._v(" "),e("td",[e("code",[this._v("127.0.0.1:11800")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("collector.heartbeat_period")])]),this._v(" "),e("td",[this._v("探针心跳报告时间. 单位秒.")]),this._v(" "),e("td",[e("code",[this._v("30")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("collector.grpc_upstream_timeout")])]),this._v(" "),e("td",[this._v("grpc客户端向上游发送数据时超时多长时间. 单位秒.")]),this._v(" "),e("td",[e("code",[this._v("30")]),this._v(" 秒")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("collector.get_profile_task_interval")])]),this._v(" "),e("td",[this._v("嗅探器获取配置文件任务列表间隔.")]),this._v(" "),e("td",[e("code",[this._v("20")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("logging.level")])]),this._v(" "),e("td",[this._v("日志级别。默认为debug。")]),this._v(" "),e("td",[e("code",[this._v("DEBUG")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("logging.file_name")])]),this._v(" "),e("td",[this._v("日志文件名")]),this._v(" "),e("td",[e("code",[this._v("skywalking-api.log")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("logging.output")])]),this._v(" "),e("td",[this._v("日志输出. 默认是文件. 使用控制台意味着输出到标准输出.")]),this._v(" "),e("td",[e("code",[this._v("FILE")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("logging.dir")])]),this._v(" "),e("td",[this._v('日志目录。默认为空串，表示使用"system.out"输出日志。')]),this._v(" "),e("td",[e("code",[this._v('""')])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",[s("code",[t._v("logging.pattern")])]),t._v(" "),s("td",[t._v("日志格式. 所有的转换说明符: "),s("br"),t._v("  * "),s("code",[t._v("%level")]),t._v(" means log level. "),s("br"),t._v("  *  "),s("code",[t._v("%timestamp")]),t._v(" 表示现在的时间格式 "),s("code",[t._v("yyyy-MM-dd HH:mm:ss:SSS")]),t._v("."),s("br"),t._v("  *   "),s("code",[t._v("%thread")]),t._v(" 表示当前线程的名称."),s("br"),t._v("  *   "),s("code",[t._v("%msg")]),t._v(" 表示用户记录的某些消息. "),s("br"),t._v("  *  "),s("code",[t._v("%class")]),t._v(" 表示TargetClass的SimpleName. "),s("br"),t._v("  *  "),s("code",[t._v("%throwable")]),t._v(" 表示用户抛出的异常. "),s("br"),t._v("  *  "),s("code",[t._v("%agent_name")]),t._v(" 表示 "),s("code",[t._v("agent.service_name")])]),t._v(" "),s("td",[s("code",[t._v("%level %timestamp %thread %class : %msg %throwable")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("logging.max_file_size")])]),this._v(" "),e("td",[this._v("日志文件的最大大小。当日志文件大小超过这个数，归档当前的日志文件，将日志写入到新文件。")]),this._v(" "),e("td",[e("code",[this._v("300 * 1024 * 1024")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("logging.max_history_files")])]),this._v(" "),e("td",[this._v("The max history log files. When rollover happened, if log files exceed this number,then the oldest file will be delete. Negative or zero means off, by default.")]),this._v(" "),e("td",[e("code",[this._v("-1")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("jvm.buffer_size")])]),this._v(" "),e("td",[this._v("收集JVM信息的buffer的大小。")]),this._v(" "),e("td",[e("code",[this._v("60 * 10")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("buffer.channel_size")])]),this._v(" "),e("td",[this._v("buffer的channel大小。")]),this._v(" "),e("td",[e("code",[this._v("5")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("buffer.buffer_size")])]),this._v(" "),e("td",[this._v("buffer的大小")]),this._v(" "),e("td",[e("code",[this._v("300")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("profile.active")])]),this._v(" "),e("td",[this._v("如果为"),e("code",[this._v("true")]),this._v("，SkyWalking代理将在用户创建新的配置文件任务时启用配置文件. 否则禁用概要.")]),this._v(" "),e("td",[e("code",[this._v("true")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("profile.max_parallel")])]),this._v(" "),e("td",[this._v("并行监控段计数")]),this._v(" "),e("td",[e("code",[this._v("5")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("profile.duration")])]),this._v(" "),e("td",[this._v("监控段最大时间(分钟)，如果当前监控段时间超出限制，则停止.")]),this._v(" "),e("td",[e("code",[this._v("10")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("profile.dump_max_stack_depth")])]),this._v(" "),e("td",[this._v("最大线程转储的堆栈深度")]),this._v(" "),e("td",[e("code",[this._v("500")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("profile.snapshot_transport_buffer_size")])]),this._v(" "),e("td",[this._v("快照传输到后端缓冲区的大小")]),this._v(" "),e("td",[e("code",[this._v("50")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("plugin.mongodb.trace_param")])]),this._v(" "),e("td",[this._v("如果为true，记录所有访问MongoDB的参数信息。默认为false，表示仅记录操作名，不记录参数信息。")]),this._v(" "),e("td",[e("code",[this._v("false")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("plugin.elasticsearch.trace_dsl")])]),this._v(" "),e("td",[this._v("如果为true，记录所有访问ElasticSearch的DSL信息。默认为false。")]),this._v(" "),e("td",[e("code",[this._v("false")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("plugin.springmvc.use_qualified_name_as_endpoint_name")])]),this._v(" "),e("td",[this._v("如果为true，endpoint的name为方法的全限定名，而不是请求的URL。默认为false。")]),this._v(" "),e("td",[e("code",[this._v("false")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("plugin.toolit.use_qualified_name_as_operation_name")])]),this._v(" "),e("td",[this._v("如果为true，operation的name为方法的全限定名，而不是给定的operation name。默认为false。")]),this._v(" "),e("td",[e("code",[this._v("false")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("plugin.mysql.trace_sql_parameters")])]),this._v(" "),e("td",[this._v("如果设置为 true, SQL 查询 (典型的是 "),e("code",[this._v("java.sql.PreparedStatement")]),this._v(") 的参数也会被采集.")]),this._v(" "),e("td",[e("code",[this._v("false")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("plugin.mysql.sql_parameters_max_length")])]),this._v(" "),e("td",[this._v("如果设置为正整数, 收集的 SQL 参数 "),e("code",[this._v("db.sql.parameters")]),this._v(" 会被截断到这个长度, 否则会被完整保存, 这可能会导致性能问题.")]),this._v(" "),e("td",[e("code",[this._v("512")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("plugin.solrj.trace_statement")])]),this._v(" "),e("td",[this._v("如果为 true, 追踪 Solr 查询请求中的所有查询参数(包括 deleteByIds 和 deleteByQuery) 默认为 false.")]),this._v(" "),e("td",[e("code",[this._v("false")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("plugin.solrj.trace_ops_params")])]),this._v(" "),e("td",[this._v("如果为 true, 追踪 Solr 查询中所有操作参数, 默认为 false.")]),this._v(" "),e("td",[e("code",[this._v("false")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("plugin.peer_max_length")])]),this._v(" "),e("td",[this._v("Peer 描述最大限制.")]),this._v(" "),e("td",[e("code",[this._v("200")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("plugin.mongodb.filter_length_limit")])]),this._v(" "),e("td",[this._v("如果设置为正数, "),e("code",[this._v("WriteRequest.params")]),this._v(" 将被截短到这个长度, 否则它将被完全保存，这可能会导致性能问题.")]),this._v(" "),e("td",[e("code",[this._v("256")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("plugin.postgresql.trace_sql_parameters")])]),this._v(" "),e("td",[this._v("如果设置为true，将收集sql的参数(通常是 "),e("code",[this._v("java.sql.PreparedStatement")]),this._v(").")]),this._v(" "),e("td",[e("code",[this._v("false")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("plugin.postgresql.sql_parameters_max_length")])]),this._v(" "),e("td",[this._v("如果设置为正数,  "),e("code",[this._v("db.sql.parameters")]),this._v(" 将被截断到这个长度，否则它将被完全保存，这可能会导致性能问题.")]),this._v(" "),e("td",[e("code",[this._v("512")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("plugin.mariadb.trace_sql_parameters")])]),this._v(" "),e("td",[this._v("如果设置为true，将收集sql的参数(通常是 "),e("code",[this._v("java.sql.PreparedStatement")]),this._v(").")]),this._v(" "),e("td",[e("code",[this._v("false")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("plugin.mariadb.sql_parameters_max_length")])]),this._v(" "),e("td",[this._v("如果设置为正数，"),e("code",[this._v("db.sql")]),this._v(" 将被截断到这个长度，否则它将被完全保存，这可能会导致性能问题.")]),this._v(" "),e("td",[e("code",[this._v("512")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("plugin.light4j.trace_handler_chain")])]),this._v(" "),e("td",[this._v("如果为"),e("code",[this._v("true")]),this._v("，请跟踪属于请求的Light4J处理程序链的所有中间件/业务处理程序.")]),this._v(" "),e("td",[this._v("false")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("code",[this._v("plugin.opgroup.*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("plugin.springtransaction.simplify_transaction_definition_name")])]),this._v(" "),e("td",[this._v("如果为"),e("code",[this._v("true")]),this._v("，事务定义名称将被简化.")]),this._v(" "),e("td",[this._v("false")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",[s("code",[t._v("plugin.jdkthreading.threading_class_prefixes")])]),t._v(" "),s("td",[t._v("线程类 ("),s("code",[t._v("java.lang.Runnable")]),t._v(" and "),s("code",[t._v("java.util.concurrent.Callable")]),t._v(") 及其子类(包括任何名称匹配 "),s("code",[t._v("THREADING_CLASS_PREFIXES")]),t._v(" (以 "),s("code",[t._v("，")]),t._v(" 分隔)的匿名内部类) 将被检测, 确保只指定短小的前缀，就像您预期要测试的一样, ("),s("code",[t._v("java.")]),t._v(" 和 "),s("code",[t._v("javax.")]),t._v(" 会因安全问题而被忽略)")]),t._v(" "),s("td",[t._v("Not set")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("plugin.tomcat.collect_http_params")])]),this._v(" "),e("td",[this._v("这个配置项控制Tomcat插件是否应该收集请求的参数. 同样，在概要追踪中隐式激活.")]),this._v(" "),e("td",[e("code",[this._v("false")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",[s("code",[t._v("plugin.springmvc.collect_http_params")])]),t._v(" "),s("td",[t._v("这个配置项控制SpringMVC插件是否应该收集请求的参数, 当您的Spring应用程序基于Tomcat时, 只需要设置 "),s("code",[t._v("plugin.tomcat.collect_http_params")]),t._v(" 或 "),s("code",[t._v("plugin.springmvc.collect_http_params")]),t._v(" 之一. 同样，在概要追踪中隐式激活.")]),t._v(" "),s("td",[s("code",[t._v("false")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("plugin.http.http_params_length_threshold")])]),this._v(" "),e("td",[this._v("当启用 "),e("code",[this._v("COLLECT_HTTP_PARAMS")]),this._v("时，要保留多少字符并将其发送到OAP后端，请使用负值来保留和发送完整的参数. 添加这个配置项是为了提高性能.")]),this._v(" "),e("td",[e("code",[this._v("1024")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("correlation.element_max_number")])]),this._v(" "),e("td",[this._v("关联上下文的最大元素数.")]),this._v(" "),e("td",[e("code",[this._v("3")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("correlation.value_max_length")])]),this._v(" "),e("td",[this._v("关联上下文元素的最大值长度.")]),this._v(" "),e("td",[e("code",[this._v("128")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"可选的插件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#可选的插件"}},[this._v("#")]),this._v(" 可选的插件")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Java agent的所有插件都是可插拔的。在agent或第三方仓库的"),e("code",[this._v("optional-plugins")]),this._v(" 文件夹下提供了可选的插件。\n想要使用可选插件，你需要将对应插件移动到"),e("code",[this._v("/plugins")]),this._v("文件夹下。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"bootstrap-类插件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bootstrap-类插件"}},[this._v("#")]),this._v(" Bootstrap 类插件")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("由于意外风险，所有 Bootstrap 插件都是可选的。Bootstrap 插件在 "),e("code",[this._v("bootstrap-plugins")]),this._v(" 文件夹中提供.\n若使用这些插件，您需要将目标插件 jar 文件放入 "),e("code",[this._v("/plugins")]),this._v(" 中.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("JDK HttpURLConnection 插件. Agent 兼容 JDK 1.6+")]),this._v(" "),e("li",[this._v("JDK Callable and Runnable 插件. Agent 兼容 1.6+")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"高级特性-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#高级特性-2"}},[this._v("#")]),this._v(" 高级特性")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"插件开发指南"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#插件开发指南"}},[this._v("#")]),this._v(" 插件开发指南")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"测试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#测试"}},[this._v("#")]),this._v(" 测试")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"注意"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#注意"}},[this._v("#")]),this._v(" 注意")])}],!1,null,null,null);e.default=i.exports}}]);