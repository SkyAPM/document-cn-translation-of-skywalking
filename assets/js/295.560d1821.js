(window.webpackJsonp=window.webpackJsonp||[]).push([[295],{375:function(e,a,t){"use strict";t.r(a);var n=t(0),s=Object(n.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"content"},[e._m(0),e._v(" "),t("p",[e._v("此 FAQ 来自 "),t("a",{attrs:{href:"https://github.com/apache/skywalking/issues/2652",target:"_blank",rel:"noopener noreferrer"}},[e._v("社区讨论和反馈"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("p",[e._v("该用户在 WebSphere 7.0.0.11, JDK 1.8_20160719 和 JDK 1.7.0_20150407 上安装 SkyWalking Java 探针,然后出现了以下错误日志")]),e._v(" "),e._m(1),t("p",[e._v("该问题已经确定是 WebSphere 上的访问权限导致.\n可以按如下解决")]),e._v(" "),e._m(2)])}),[function(){var e=this.$createElement,a=this._self._c||e;return a("h1",{attrs:{id:"在-websphere-上安装-agent-时-抛出异常-illegalstateexception"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在-websphere-上安装-agent-时-抛出异常-illegalstateexception"}},[this._v("#")]),this._v(" 在 WebSphere 上安装 Agent 时, 抛出异常 IllegalStateException")])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("WARN "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2019")]),e._v("-05-09 "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("17")]),e._v(":01:35:905 SkywalkingAgent-1-GRPCChannelManager-0 ProtectiveShieldMatcher "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" Byte-buddy occurs exception when match type.\njava.lang.IllegalStateException: Cannot resolve "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("type")]),e._v(" description "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),e._v(" java.security.PrivilegedAction\nat org.apache.skywalking.apm.dependencies.net.bytebuddy.pool.TypePool"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$Resolution")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$Illegal")]),e._v(".resolve"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("TypePool.java:144"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nat org.apache.skywalking.apm.dependencies.net.bytebuddy.pool.TypePool"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$Default")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$WithLazyResolution")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$LazyTypeDescription")]),e._v(".delegate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("TypePool.java:1392"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nat org.apache.skywalking.apm.dependencies.net.bytebuddy.description.type.TypeDescription"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$AbstractBase")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$OfSimpleType")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$WithDelegation")]),e._v(".getInterfaces"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("TypeDescription.java:8016"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nat org.apache.skywalking.apm.dependencies.net.bytebuddy.description.type.TypeDescription"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$Generic")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$OfNonGenericType")]),e._v(".getInterfaces"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("TypeDescription.java:3621"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nat org.apache.skywalking.apm.dependencies.net.bytebuddy.matcher.HasSuperTypeMatcher.hasInterface"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("HasSuperTypeMatcher.java:53"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nat org.apache.skywalking.apm.dependencies.net.bytebuddy.matcher.HasSuperTypeMatcher.hasInterface"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("HasSuperTypeMatcher.java:54"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nat org.apache.skywalking.apm.dependencies.net.bytebuddy.matcher.HasSuperTypeMatcher.matches"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("HasSuperTypeMatcher.java:38"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nat org.apache.skywalking.apm.dependencies.net.bytebuddy.matcher.HasSuperTypeMatcher.matches"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("HasSuperTypeMatcher.java:15"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nat org.apache.skywalking.apm.dependencies.net.bytebuddy.matcher.ElementMatcher"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$Junction")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$Conjunction")]),e._v(".matches"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("ElementMatcher.java:107"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nat org.apache.skywalking.apm.dependencies.net.bytebuddy.matcher.ElementMatcher"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$Junction")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$Disjunction")]),e._v(".matches"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("ElementMatcher.java:147"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nat org.apache.skywalking.apm.dependencies.net.bytebuddy.matcher.ElementMatcher"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$Junction")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$Disjunction")]),e._v(".matches"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("ElementMatcher.java:147"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nat org.apache.skywalking.apm.dependencies.net.bytebuddy.matcher.ElementMatcher"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$Junction")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$Disjunction")]),e._v(".matches"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("ElementMatcher.java:147"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nat org.apache.skywalking.apm.dependencies.net.bytebuddy.matcher.ElementMatcher"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$Junction")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$Disjunction")]),e._v(".matches"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("ElementMatcher.java:147"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nat org.apache.skywalking.apm.dependencies.net.bytebuddy.matcher.ElementMatcher"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$Junction")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$Disjunction")]),e._v(".matches"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("ElementMatcher.java:147"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(".\n")])])])},function(){var e=this.$createElement,a=this._self._c||e;return a("ol",[a("li",[this._v("设置探针的 owner 为 WebSphere 的 owner")]),this._v(" "),a("li",[this._v("在文件 "),a("code",[this._v("server.policy")]),this._v(" 中添加 "),a("code",[this._v('grant codeBase "file:${agent_dir}/-" { permission java.security.AllPermission; };')]),this._v('".')])])}],!1,null,null,null);a.default=s.exports}}]);